{{define "search-popup-results.html"}}
<h2 class="modal-title">Results for "{{.Query}}"</h2>
<hr />
{{range .Results}}
<div class="search-result-item" style="margin-top: 1.5rem">
  <h3>
    <a
      href="/posts/{{.Slug}}"
      hx-get="/posts/{{.Slug}}"
      hx-target="#content-area"
      hx-push-url="true"
      class="modal-link"
    >
      {{.Title}}
    </a>
  </h3>
  <p style="font-size: 0.9em; color: #4a5568">...{{.Snippet}}...</p>
</div>
{{else}}
<p>No results found for "{{.Query}}".</p>
{{end}}
<script>
  // When a search result link is clicked, also close the modal
  htmx.on(".modal-link", "click", function (evt) {
    document.getElementById("search-modal").classList.add("hidden");
  });
</script>
{{end}}
