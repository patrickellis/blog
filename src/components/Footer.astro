---
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const years = [...new Set(posts.map(post => new Date(post.data.pubDate).getFullYear()))].sort((a, b) => b - a);
---

<footer>
	<div class="year-links">
		{years.map(year => (
			<a href={`/${year}`}>{year}</a>
		))}
	</div>
	&copy; {new Date().getFullYear()} Patrick Ellis. All rights reserved.
</footer>
<style>
	footer {
		padding: 2em 1em;
		background: #f9f9f9;
		text-align: center;
	}
	.year-links {
		margin-bottom: 1em;
	}
	.year-links a {
		margin: 0 0.5em;
		color: #333;
		text-decoration: none;
	}
</style>
